{"version":3,"sources":["../../../../src/components/LoginBox/LoginBox.tsx"],"names":["React","ModeType","errors","mode","setMode","props","idField","args","width","isSubmitting","handleSubmit","jwtData","errorText","LoginBox"],"mappings":";;;;uBAGA,iB,EACA,iB,EAJA,O,EACA,a;;6BAEA,iB,WACA,iB,WAJA,O,WACA,a;;;;;;;;8BAEA,c,EACA,c;;;;;;;;AAJA,MAAA,KAAA,GAAA,uBAAA,EAAA;;AACA,MAAA,WAAA,GAAA,sBAAA,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,WAAA,QAAA,CAAA,KAAA,EAAgC;AAC9B,UAAM,CAAA,SAAA,EAAA,YAAA,IAA4BA,KAAK,CAALA,QAAAA,CAAlC,EAAkCA,CAAlC;AACA,UAAM,CAAA,YAAA,EAAA,eAAA,IAAkCA,KAAK,CAALA,QAAAA,CAAxC,KAAwCA,CAAxC;AACA,UAAM,CAAA,IAAA,EAAA,OAAA,IAAkBA,KAAK,CAALA,QAAAA,CAAeC,cAAAA,CAAAA,QAAAA,CAAvC,MAAwBD,CAAxB;AACA,UAAM;AAAA,MAAA,OAAA;AAAA,MAAA,YAAA;AAAyBE,MAAAA;AAAzB,QAAoC,CAAA,GAAA,cAAA,CAA1C,OAA0C,GAA1C;AAEA,WAAA,aACE,KAAA,CAAA,aAAA,CAAC,cAAA,CAAD,SAAA,EAAA,IAAA,EAAA,aACE,KAAA,CAAA,aAAA,CAAC,KAAA,CAAD,OAAA,EAAA;AAAM,MAAA,KAAK,EAAE,CAAA,GAAA,WAAA,CAAA,OAAA,EAAA,eAAA;AAAb,KAAA,EADF,IACE,CADF,EAEGC,IAAI,KAAKF,cAAAA,CAAAA,QAAAA,CAATE,MAAAA,GAAAA,aACC,KAAA,CAAA,aAAA,CAAC,KAAA,CAAD,OAAA,EAAA,IAAA,EAAA,kBAAA,EAAA,aACkB,KAAA,CAAA,aAAA,CAAC,cAAA,CAAD,aAAA,EAAA;AAAe,MAAA,OAAO,EAAE,MAAMC,OAAO,CAACH,cAAAA,CAAAA,QAAAA,CAAD,KAAA;AAArC,KAAA,EAFnBE,OAEmB,CADlB,CADDA,GAAAA,aAKC,KAAA,CAAA,aAAA,CAAC,KAAA,CAAD,OAAA,EAAA,IAAA,EAAA,YAAA,EAAA,aACY,KAAA,CAAA,aAAA,CAAC,cAAA,CAAD,aAAA,EAAA;AAAe,MAAA,OAAO,EAAE,MAAMC,OAAO,CAACH,cAAAA,CAAAA,QAAAA,CAAD,MAAA;AAArC,KAAA,EARhB,SAQgB,CADZ,CAPJ,EAAA,aAWE,KAAA,CAAA,aAAA,CAAC,KAAA,CAAD,OAAA,EAAA;AAAM,MAAA,KAAK,EAAE,CAAA,GAAA,WAAA,CAAA,OAAA,EAAA,WAAA;AAAb,KAAA,EAAA,aACE,KAAA,CAAA,aAAA,CAAC,cAAA,CAAD,WAAA,EAAA,IAAA,EAAA,aACE,KAAA,CAAA,aAAA,CAAC,cAAA,CAAD,QAAA,EAFJ,IAEI,CADF,CADF,EAAA,aAIE,KAAA,CAAA,aAAA,CAAC,cAAA,CAAD,UAAA,EAAA;AACE,MAAA,EAAE,EAAGI,KAAD,IAAA,aAAgB,KAAA,CAAA,aAAA,CAAC,cAAA,CAAD,SAAA,EAAA,QAAA,CAAA;AAAW,QAAA,WAAW,EAAEC,cAAAA,CAAxB,OAAA;AAAiC,QAAA,MAAM,EAAC;AAAxC,OAAA,EADtB,KACsB,CAAA,CADtB;AAEE,MAAA,OAAO,EAFT,OAAA;AAGE,MAAA,IAAI,EAHN,QAAA;AAIE,MAAA,QAAQ,EAAEC,IAAI,IAAIA,IAAI,CAAJA,CAAI,CAAJA,CAAAA,WAAAA,CAJpB,IAAA;AAKE,MAAA,YAAY,EAAC;AALf,KAAA,CAJF,EAAA,aAYE,KAAA,CAAA,aAAA,CAAC,cAAA,CAAD,eAAA,EAAA,IAAA,EAAA,aACE,KAAA,CAAA,aAAA,CAAC,cAAA,CAAD,YAAA,EAbJ,IAaI,CADF,CAZF,EAAA,aAeE,KAAA,CAAA,aAAA,CAAC,cAAA,CAAD,UAAA,EAAA;AACE,MAAA,EAAE,EAAGF,KAAD,IAAA,aAAgB,KAAA,CAAA,aAAA,CAAC,cAAA,CAAD,SAAA,EAAA,QAAA,CAAA;AAAW,QAAA,WAAW,EAAtB,UAAA;AAAkC,QAAA,eAAe,EAAjD,IAAA;AAAyD,QAAA,MAAM,EAAC;AAAhE,OAAA,EADtB,KACsB,CAAA,CADtB;AAEE,MAAA,OAAO,EAFT,OAAA;AAGE,MAAA,IAAI,EAHN,UAAA;AAIE,MAAA,QAAQ,EAAEE,IAAI,IAAIA,IAAI,CAAJA,CAAI,CAAJA,CAAAA,WAAAA,CAJpB,IAAA;AAKE,MAAA,YAAY,EAAC;AALf,KAAA,CAfF,EAAA,aAsBE,KAAA,CAAA,aAAA,CAAC,KAAA,CAAD,OAAA,EAAA;AAAM,MAAA,KAAK,EAAE,CAAA,GAAA,WAAA,CAAA,OAAA,EAAA,iDAAA;AAAb,KAAA,EAAA,aACE,KAAA,CAAA,aAAA,CAAC,KAAA,CAAD,OAAA,EAAA;AAAM,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT;AAAb,KAAA,EAAA,aACE,KAAA,CAAA,aAAA,CAAC,OAAA,CAAD,OAAA,EAAA;AACE,MAAA,MAAM,EADR,WAAA;AAEE,MAAA,KAAK,EAAEC,YAAY,GAAA,eAAA,GAAqBN,IAAI,KAAKF,cAAAA,CAAAA,QAAAA,CAATE,MAAAA,GAAAA,SAAAA,GAF1C,QAAA;AAGE,MAAA,OAAO,EAAEO,YAAY,CAAC,MAAA,QAAA,IAAyB;AAC7C,cAAMC,OAAuB,GAAG,MAAM,CAAA,GAAA,cAAA,CAAA,QAAA,EACpCN,KAAK,CAD+B,SAAA,EAAA,QAAA,EAAA,IAAA,EAAA,eAAA,EAAtC,YAAsC,CAAtC;;AAOA,YAAIA,KAAK,CAAT,WAAA,EAAuB;AACrBA,UAAAA,KAAK,CAALA,WAAAA,CAAAA,OAAAA;AACD;AAVkB,OAAA;AAHvB,KAAA,CADF,CADF,CAtBF,CAXF,EAAA,aA4DE,KAAA,CAAA,aAAA,CAAC,KAAA,CAAD,OAAA,EAAA;AAAM,MAAA,KAAK,EAAE,CAAA,GAAA,WAAA,CAAA,OAAA,EAAA,mBAAA;AAAb,KAAA,EAA6CO,SAAS,IA7D1D,GA6DI,CA5DF,CADF;AAgED;;AAAA;iBAEcC,Q","sourcesContent":["import * as React from 'react';\nimport tailwind from 'tailwind-rn';\nimport { Text, View, Button } from 'react-native';\nimport { useForm, Controller } from 'react-hook-form';\nimport {\n  UserIcon,\n  PasswordIcon,\n  ModeType,\n  Container,\n  TouchableText,\n  UserIconBox,\n  PasswordIconBox,\n  TextField,\n  onSubmit,\n  idField,\n  FormData,\n  JwtData\n} from './LoginBoxUtils';\n// import { H3 } from 'es5-html-elements';\n\ninterface Props {\n  accountId: string\n  afterSubmit?: (jwtData: JwtData | null) => void\n}\nfunction LoginBox(props: Props) {\n  const [errorText, setErrorText] = React.useState('');\n  const [isSubmitting, setIsSubmitting] = React.useState(false);\n  const [mode, setMode] = React.useState(ModeType.SignUp);\n  const { control, handleSubmit, errors } = useForm();\n\n  return (\n    <Container>\n      <Text style={tailwind('text-2xl mb-3')}>{mode}</Text>\n      {mode === ModeType.SignUp ? (\n        <Text>\n          Already a user? <TouchableText onPress={() => setMode(ModeType.Login)}>Login</TouchableText>\n        </Text>\n      ) : (\n        <Text>\n          New user? <TouchableText onPress={() => setMode(ModeType.SignUp)}>Sign Up</TouchableText>\n        </Text>\n      )}\n      <View style={tailwind('mt-2 mb-2')}>\n        <UserIconBox>\n          <UserIcon />\n        </UserIconBox>\n        <Controller\n          as={(props: any) => <TextField placeholder={idField} testID=\"userId\" {...props} />}\n          control={control}\n          name=\"userId\"\n          onChange={args => args[0].nativeEvent.text}\n          defaultValue=\"\"\n        />\n\n        <PasswordIconBox>\n          <PasswordIcon />\n        </PasswordIconBox>\n        <Controller\n          as={(props: any) => <TextField placeholder=\"Password\" secureTextEntry={true} testID=\"password\" {...props} />}\n          control={control}\n          name=\"password\"\n          onChange={args => args[0].nativeEvent.text}\n          defaultValue=\"\"\n        />\n        <View style={tailwind('flex flex-row items-center justify-between mt-2')}>\n          <View style={{ width: '40%' }}>\n            <Button\n              testID=\"submitBtn\"\n              title={isSubmitting ? 'Submitting...' : mode === ModeType.SignUp ? 'Sign Up' : 'Log In'}\n              onPress={handleSubmit(async (formData: any) => {\n                const jwtData: JwtData | null = await onSubmit(\n                  props.accountId,\n                  formData as FormData,\n                  mode,\n                  setIsSubmitting,\n                  setErrorText\n                );\n                if (props.afterSubmit) {\n                  props.afterSubmit(jwtData);\n                }\n              })}\n            />\n          </View>\n          {/* {mode === ModeType.Login && (\n            <TouchableText onPress={() => {}}>\n              Forgot Password?\n            </TouchableText>\n          )} */}\n        </View>\n      </View>\n\n      <Text style={tailwind('text-red-600 mt-2')}>{errorText || ' '}</Text>\n    </Container>\n  );\n};\n\nexport default LoginBox;"],"file":"LoginBox.js"}