{"version":3,"sources":["../../../src/utils/e2eUtil.js"],"names":["path","require","setupBrowser","dirpath","jest","setTimeout","args","browser","puppeteer","launch","headless","screenshotsPath","resolve","newPage","opt","width","height","page","setViewport","takeScreenshot","filename","screenshot"],"mappings":";;;;;;;;;AAAA;;;;AACA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB,C,CAEA;AACA;AACA;;;AAEO,eAAeC,YAAf,CAA4BC,OAA5B,EAAqC;AAC1CC,EAAAA,IAAI,CAACC,UAAL,CAAgB,KAAhB;AACA,QAAMC,IAAI,GAAG,CACX,cADW,EAEX,0BAFW,EAGX,mBAHW,EAIX,cAJW,EAKX,8BALW,CAAb;AAOA,QAAMC,OAAO,GAAG,MAAMC,mBAAUC,MAAV,CAAiB;AAAEC,IAAAA,QAAQ,EAAE,IAAZ;AAAkBJ,IAAAA;AAAlB,GAAjB,CAAtB;AACAC,EAAAA,OAAO,CAACI,eAAR,GAA0BX,IAAI,CAACY,OAAL,CAAaT,OAAb,EAAsB,qBAAtB,CAA1B;AACA,SAAOI,OAAP,CAX0C,CAY1C;AACD;;AAEM,eAAeM,OAAf,CAAuBN,OAAvB,EAAgCO,GAAG,GAAG;AAAEC,EAAAA,KAAK,EAAE,IAAT;AAAeC,EAAAA,MAAM,EAAE;AAAvB,CAAtC,EAAoE;AACzE,QAAMC,IAAI,GAAG,MAAMV,OAAO,CAACM,OAAR,EAAnB;AACA,QAAMI,IAAI,CAACC,WAAL,CAAiBJ,GAAjB,CAAN;AACA,SAAOG,IAAP;AACD;;AAEM,eAAeE,cAAf,CAA8BZ,OAA9B,EAAuCU,IAAvC,EAA6CG,QAA7C,EAAuD;AAC5D,QAAM;AAAET,IAAAA;AAAF,MAAsBJ,OAA5B;AACA,SAAO,MAAMU,IAAI,CAACI,UAAL,CAAgB;AAAErB,IAAAA,IAAI,EAAG,GAAEW,eAAgB,IAAGS,QAAS;AAAvC,GAAhB,CAAb;AACD","sourcesContent":["import puppeteer from 'puppeteer';\nconst path = require('path');\n\n// eslint is looking for `puppeteer` at root level package.json\n// eslint-disable-next-line import/no-unresolved\n// const puppeteer = require('puppeteer');\n\nexport async function setupBrowser(dirpath) {\n  jest.setTimeout(30000);\n  const args = [\n    '--no-sandbox',\n    '--disable-setuid-sandbox',\n    '--start-maximized',\n    '--lang=he-IL',\n    '--font-render-hinting=medium'\n  ];\n  const browser = await puppeteer.launch({ headless: true, args });\n  browser.screenshotsPath = path.resolve(dirpath, './__e2e_snapshots__');\n  return browser;\n  // console.log('--- browser', browser);\n}\n\nexport async function newPage(browser, opt = { width: 1024, height: 800 }) {\n  const page = await browser.newPage();\n  await page.setViewport(opt);\n  return page;\n}\n\nexport async function takeScreenshot(browser, page, filename) {\n  const { screenshotsPath } = browser;\n  return await page.screenshot({ path: `${screenshotsPath}/${filename}` });\n}\n"],"file":"e2eUtil.js"}